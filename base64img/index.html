<!DOCTYPE html>

<head></head>

<body>
    <img crossOrigin="anonymous" src="./img/tu_img02.png" alt="" style="width: 100px;height: 100px;" id='boximg' >
    <canvas id="canvas" style="width: 100px;height:100"></canvas>
</body>
<script>
    var canvas = document.getElementById("canvas"); //获取canvas
    var imgpath = document.getElementById("boximg"); //获取canvas
    let ctx = canvas.getContext("2d"); //对应的CanvasRenderingContext2D对象(画笔)
    let base64 = '';
    imgpath.onload = function () {
        //图片加载完，再draw 和 toDataURL
        ctx.drawImage(imgpath, 0, 0);
        base64 = canvas.toDataURL("image/png");
        console.log(base64);
    };
    //bug    跨域  canvas  
</script>